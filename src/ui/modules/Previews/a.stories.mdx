import { Meta, Story, Props, Preview } from '@storybook/addon-docs/blocks';
import { PropsTable } from '@storybook/components';
// import {getResourcePreviewProps} from 'ui/mock/context'
import { User } from './User';
import { Resource } from './Resource';
import {Community} from './Community';
import {Collection} from './Collection';
import {Comment} from './Comment';
import {Box} from 'rebass'
import { useFormik } from 'formik';
const getActions = () => ({
  FlagModal: () => {
    const formik = useFormik<{ reason: '' }>({
      initialValues: {
        reason: ''
      },
      onSubmit: () => {
        action('submit')();
        return new Promise((resolve, reject) => {
          setTimeout(resolve, 3000);
        });
      }
    });
    const getFlagModalProps = {
      formik,
      flagged: false,
      cancel: action('cancel')
    };
    return <FlagModal {...getFlagModalProps} />;
  },
  like: {
    totalLikes: 3,
    toggleLikeFormik: useFormik<{}>({
      initialValues: {},
      onSubmit: vals => {
        action('submitting...')();
        return new Promise(resolve =>
          setTimeout(() => {
            action('submitted...')();
            resolve();
          }, 2000)
        );
      }
    }),
    iLikeIt: true
  },
  reply: {
    replyFormik: useFormik<{ replyMessage: String }>({
      initialValues: { replyMessage: '' },
      onSubmit: vals => {
        action(`submitting: ${vals.replyMessage}`)();
        return new Promise(resolve =>
          setTimeout(() => {
            action(`submitted: ${vals.replyMessage}`)();
            resolve();
          }, 2000)
        );
      }
    })
  }
});

<Meta title="Modules|Main Previews"/>

# User
Let's define a story for the `User preview` module

<Preview>
  <Story name="User preview module">
     <Box
        sx={{
          borderRadius: '6px',
          background: '#fff',
          width: '600px',
          margin: '0 auto'
        }}
        p={2}
      >
    <User />
    </Box>
  </Story>
</Preview>


# Resource
Let's define a story for the `Resource preview` module

<Preview>
  <Story name="Resource preview module">
     <Box
        sx={{
          borderRadius: '6px',
          background: '#fff',
          width: '600px',
          margin: '0 auto'
        }}
        p={2}
      >
    <Resource
        like={{
    totalLikes: 3,
    toggleLikeFormik: useFormik<{}>({
      initialValues: {},
      onSubmit: vals => {
        action('submitting...')();
        return new Promise(resolve =>
          setTimeout(() => {
            action('submitted...')();
            resolve();
          }, 2000)
        );
      }
    }),
    iLikeIt: true
  }}
        id={"1"}
        icon={"https://files.mastodon.social/accounts/headers/001/105/637/original/6da7b224d62ebeb5.png"}
        name={"mantarai"}
        summary={"After longtime I made a design for Uplabs Music player design challenge. i hope you all like this. if you like my design dont forgot to Vote in Uplabs ( 25 June ). Vote Here "}
        link={"https://www.pinterest.it/topics/anime/"}
    />
    </Box>
  </Story>
</Preview>

# Community
Let's define a story for the `Community preview` module

<Preview>
  <Story name="Community preview module">
     <Box
        sx={{
          borderRadius: '6px',
          background: '#fff',
          width: '600px',
          margin: '0 auto'
        }}
        p={2}
      >
    <Community
        id={"1"}
        icon={"https://files.mastodon.social/accounts/headers/001/105/637/original/6da7b224d62ebeb5.png"}
        name={"mantarai"}
        summary={"After longtime I made a design for Uplabs Music player design challenge. i hope you all like this. if you like my design dont forgot to Vote in Uplabs ( 25 June ). Vote Here "}
        followersCount={12}
        collectionsCount={6}
        followed={true}
        threadsCount={3}
        toggleJoinFormik = {useFormik<{}>({
          initialValues: {},
          onSubmit: vals => {
            action('submitting...')();
            return new Promise(resolve =>
              setTimeout(() => {
                action('submitted...')();
                resolve();
              }, 2000)
            );
          }
        })}
    />
    </Box>
  </Story>
</Preview>

# Collection
Let's define a story for the `Collection preview` module
<!-- 
  link: {
    url: string;
    external: boolean;
  };
  icon: string;
  name: string;
  summary: string;
  totalResources: number | null; -->
<Preview>
  <Story name="Collection preview module">
     <Box
        sx={{
          borderRadius: '6px',
          background: '#fff',
          width: '600px',
          margin: '0 auto'
        }}
        p={2}
      >
    <Collection
        link={{url: "/", external: true}}
        id={"1"}
        icon={"https://files.mastodon.social/accounts/headers/001/105/637/original/6da7b224d62ebeb5.png"}
        name={"mantarai"}
        summary={"After longtime I made a design for Uplabs Music player design challenge. i hope you all like this. if you like my design dont forgot to Vote in Uplabs ( 25 June ). Vote Here "}
        totalResources={12}
        toggleFollowFormik = {useFormik<{}>({
          initialValues: {},
          onSubmit: vals => {
            action('submitting...')();
            return new Promise(resolve =>
              setTimeout(() => {
                action('submitted...')();
                resolve();
              }, 2000)
            );
          }
        })}
    />
    </Box>
  </Story>
</Preview>

# Comment
Let's define a story for the `Comment preview` module

<Preview>
  <Story name="Comment preview module">
     <Box
        sx={{
          borderRadius: '6px',
          background: '#fff',
          width: '600px',
          margin: '0 auto'
        }}
        p={2}
      >
    <Comment
        {...getActions()}
        content={"After longtime I made a design for Uplabs Music player design challenge. i hope you all like this. if you like my design dont forgot to Vote in Uplabs ( 25 June ). Vote Here "}
        
    />
    </Box>
  </Story>
</Preview>